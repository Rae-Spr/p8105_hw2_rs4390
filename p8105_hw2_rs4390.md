p8105_hw2_rs4390
================
Rae Spriggs
2022-09-29

``` r
library(tidyverse)
library(dplyr)
library(readxl)
```

# Problem 1

``` r
transit_df = read_csv('data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv') %>% 
  janitor::clean_names() %>% 
  select(line, station_name, station_latitude, station_longitude, route1:route11, entry, vending, entrance_type, ada) %>% 
  mutate(entry = ifelse(entry == "YES", TRUE, FALSE)) %>%
  mutate_at(c('route8', 'route9', 'route10', 'route11'), as.character) 
```

## Dataset description

The transit_df dataset contains 1868 observations of individual New York
City transit subway entrances and/or exits. There are 19 total variables
that detail the name of the transit lines, transit station names,
station latitudes and longitudes, route numbers served, whether or not
the exit also doubles as an entrance, vending access, entrance type, and
ADA compliance. To clean the data, I used the `clean_names` function
from the `janitor` package to make all variable names lowercase and
snake_case. Then, I selected for the variables of interest listed above.
I mutated the variable types for routes 8-11, so they would also be
character variables. The resulting dataset has dimensions described
above, which are 1868 rows x 19 columns. This dataset is not tidy
because the columns are not all variables. Route number should be a
variable. In order to tidy the dataset, we will need to use
`pivot_longer`.

## How many distinct stations?

``` r
distinct_station_df = transit_df %>% 
group_by(station_name) %>% 
distinct(line)
```

There are 465 distinct stations.

## How many stations are ADA compliant?

``` r
ADA_comply_df = transit_df %>% 
  filter(ada == TRUE)

station_ADA_df = ADA_comply_df %>% 
group_by(station_name) %>% 
distinct(line)
```

There are 84 ADA compliant stations in the dataset.

## What is the proportion of stations without vending machines that also have entry access?

``` r
no_vending_df = transit_df %>% 
  filter(vending == "NO")

entry_no_vending = no_vending_df %>% 
  filter(entry == TRUE)
  
nrow(entry_no_vending)/nrow(no_vending_df)
```

    ## [1] 0.3770492

Around 37.7% of stations without vending machines also have entry
access.

## Reformatting data

``` r
line_route_df = transit_df %>% 
   pivot_longer(
   route1:route11,
    names_to = "route_num",
    values_to = "route") %>% 
  filter(route == "A")

distinct_A = line_route_df %>% 
  select(station_name, line, ada) %>% 
  distinct() 

ADA_A_df = distinct_A %>% 
  filter(ada == TRUE)
```

60 distinct stations serve the A train, and of those 17 of them are ADA
compliant.

# Problem 2

## Mr. Trash Wheel

``` r
mr_trash_wheel = read_excel('data/Trash-Wheel-Collection-Totals-7-2020-2.xlsx', sheet = "Mr. Trash Wheel", range = "A2:O535") %>% 
  janitor:: clean_names() %>% 
  drop_na() %>% 
  mutate_at(vars(sports_balls), funs(round(., 0))) %>% 
  mutate_at(c('sports_balls'), as.integer) %>% 
  mutate_at(c('dumpster'), as.double)
```

## Professor Trash Wheel

``` r
prof_trash_wheel = read_excel('data/Trash-Wheel-Collection-Totals-7-2020-2.xlsx', sheet = "Professor Trash Wheel", range = "A2:O117") %>% 
  janitor:: clean_names() %>% 
  drop_na() %>% 
  mutate_at(vars(sports_balls), funs(round(., 0))) %>% 
  mutate_at(c('sports_balls'), as.integer)
```

## Joining trash wheel datasets

``` r
both_trash_wheels= 
  bind_rows(mr_trash_wheel, prof_trash_wheel)
```

## Dataset description

The `both_trash_wheels` dataset contains 524 observations of individual
dumpster fills of Mr. Trash Wheel and Professor Trash Wheel. There are
15 total variables that detail the name of the trash wheel, the full
dumpster number, the weight and volume of the full dumpsters, the date
the full dumpster was collected, the types of trash collected in the
dumpsters, and the homes powered by incineration of the dumpsters. To
clean the data, I used the `clean_names` function from the `janitor`
package to make all variable names lowercase and snake_case.

Based on our dataset, the total weight of trash collected by Professor
Trash Wheel from Jan 2017 to Jan 2021 was 135.5 tons. Additionally, the
total number of sports balls collected by Mr. Trash Wheel in 2020 was
856 balls.
